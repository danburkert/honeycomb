###4
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c INT);
INSERT INTO t1 VALUES (0), (1), (2), (3);
SELECT * FROM t1 ORDER BY c;
DELETE FROM t1 WHERE c < 1 ORDER BY c;
--sorted_result
SELECT * FROM t1;

###5
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c INT, INDEX(c));
INSERT INTO t1 VALUES (0), (1), (2), (3);
DELETE FROM t1 WHERE c < 2;
--sorted_result
SELECT * FROM t1;

###6
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c INT UNSIGNED, INDEX(c));
INSERT INTO t1 VALUES (2147483647);
INSERT INTO t1 VALUES (2147483648);
SELECT * FROM t1 WHERE c = 2147483647;
SELECT * FROM t1 WHERE c = 2147483648;
--sorted_result
SELECT * FROM t1;

###7
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c TINYINT, INDEX(c));
INSERT INTO t1 VALUES (1), (2), (64);
--sorted_result
SELECT * FROM t1;
--sorted_result
SELECT * FROM t1 WHERE c > 0;
SELECT * FROM t1 WHERE c = 1;
--sorted_result
SELECT * FROM t1 WHERE c <= 64;

###8
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT);
INSERT INTO t1 VALUES (1), (2), (3);
--sorted_result
SELECT * FROM t1;
DELETE FROM t1;
--sorted_result
SELECT * FROM t1;
DELETE FROM t1;
--sorted_result
SELECT * FROM t1;

###34
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT);
REPLACE t1 VALUES (42);
SELECT * FROM t1;

###35
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 DECIMAL(5,4));
INSERT INTO t1 (c1) VALUES(9.42);
SELECT * FROM t1;

###36
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, c2 INT, unique(c1, c2));
--error 1062
INSERT INTO t1 VALUES (1, 1), (1, 1);

###39
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 TIME, INDEX(c1));
INSERT INTO t1 VALUES ('-3:15:00');
SELECT * FROM t1;
SELECT c1 FROM t1 WHERE c1='-3:15:00';

###40
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT, c2 INT, UNIQUE INDEX(c1), UNIQUE INDEX(c2));
INSERT INTO t1 VALUES (1, 2);
--error 1062
INSERT INTO t1 VALUES (1, 3);
SELECT * FROM t1;

# TODO: The following should work once transactions are implemented
#DROP TABLE IF EXISTS t1;
#CREATE TABLE t1 (c1 INT, c2 INT, UNIQUE INDEX(c1), UNIQUE INDEX(c2));
#--error 1062
#INSERT INTO t1 VALUES (1, 2), (1, 3);
#SELECT * FROM t1;

###41 TODO
###43 TODO

###44
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 LONGTEXT);
INSERT INTO t1 VALUES ("foobar!");

###45
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT, UNIQUE(c1));
INSERT INTO t1 VALUES (1);
DELETE t1 FROM t1 WHERE t1.c1=1;
SELECT * FROM t1;
DELETE FROM t1 WHERE t1.c1=1;
SELECT * FROM t1;

DROP TABLE IF EXISTS t1, t2;
CREATE TABLE t1 (c1 INT, UNIQUE(c1));
CREATE TABLE t2 (c1 INT, UNIQUE(c1));
INSERT INTO t1 VALUES (1);
INSERT INTO t2 VALUES (2);
DELETE t1,t2 FROM t1,t2 WHERE t1.c1=1 AND t2.c1=2;
SELECT COUNT(*) FROM t1;
SELECT COUNT(*) FROM t2;

###46
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, c2 INT, UNIQUE INDEX(c1), UNIQUE INDEX(c2));
INSERT INTO t1 VALUES (1,1),(2,2),(3,3);
SELECT * FROM t1 WHERE c1=4 OR c2=5;

###47
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT PRIMARY KEY);
INSERT INTO t1 (c1) VALUES(1);
INSERT INTO t1 (c1) VALUES(1) ON DUPLICATE KEY UPDATE c1=2;
SELECT * FROM t1;

DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, c2 INT, UNIQUE(c1));
INSERT INTO t1 (c1,c2) VALUES(10,10);
INSERT INTO t1 (c1,c2) VALUES(10,11) ON DUPLICATE KEY UPDATE c2=12;
SELECT * FROM t1;

###48
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT);
TRUNCATE t1 ;

###49 TODO
###50 TODO

###51
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT);

CREATE TRIGGER tr1 BEFORE INSERT ON t1
FOR EACH ROW SET NEW.c1 = 99;

INSERT INTO t1 VALUES(1);
DROP TRIGGER tr1;

###52
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT);

DELIMITER //;
CREATE FUNCTION sf1() RETURNS INT
BEGIN
    INSERT INTO t1 VALUES (1), (2), (3);
    RETURN 0;
END//
DELIMITER ;//

SELECT sf1();
DROP FUNCTION sf1;

###53
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, UNIQUE INDEX(c1));
INSERT INTO t1 VALUES (1), (2);
--error ER_DUP_ENTRY
UPDATE t1 SET c1=2 WHERE c1=1;

###54
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT PRIMARY KEY);
INSERT INTO t1 VALUES (1);
SELECT COUNT(c1) FROM t1;
REPLACE t1 VALUES (1);
SELECT COUNT(c1) FROM t1;

DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT UNIQUE);
INSERT INTO t1 VALUES (1);
SELECT COUNT(c1) FROM t1;
REPLACE t1 VALUES (1);
SELECT COUNT(c1) FROM t1;

###55
DROP TABLE IF EXISTS t1, t2;
DROP TRIGGER IF EXISTS tr1;
CREATE TABLE t1 (c1 INT UNIQUE);
CREATE TABLE t2 (c1 INT);
INSERT INTO t1 VALUES (1);
delimiter //;
CREATE TRIGGER tr1 BEFORE DELETE ON t1 FOR EACH ROW BEGIN
INSERT INTO t2 VALUES (99);
END//
DELIMITER ;//
REPLACE INTO t1 VALUES (1);

###59
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 INT UNIQUE, c2 INT);
INSERT INTO t1 VALUES (1, 0);
UPDATE t1 SET c1 = 2;
UPDATE t1 SET c2 = 2;
SELECT * FROM t1;

###60
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 BIGINT PRIMARY KEY AUTO_INCREMENT, c2 INT);
INSERT INTO t1 VALUES (9223372036854775807, 1);
INSERT INTO t1(c2) VALUES (2);
SELECT * FROM t1;

###62
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 INT, c2 INT, UNIQUE (c1), UNIQUE(c2));
INSERT INTO t1 VALUES (1, 1);
SELECT * FROM t1 WHERE c1 <> 2;

###63
DROP TABLE IF EXISTS t1;
CREATE TABLE t1(c1 TIME, INDEX(c1));
INSERT INTO t1 VALUES ('100:00:00'), ('11:00:00');
SELECT * FROM t1 ORDER BY c1;
DELETE FROM t1 ORDER BY c1 LIMIT 1;
SELECT * FROM t1;

###64
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (c1 YEAR, UNIQUE INDEX (c1));
INSERT INTO t1 VALUES(0000);
SELECT * FROM t1 WHERE c1=0000;


### CLEANUP
DROP TABLE IF EXISTS t1, t2;
